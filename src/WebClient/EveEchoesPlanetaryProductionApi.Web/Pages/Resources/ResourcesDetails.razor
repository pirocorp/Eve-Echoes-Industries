@page "/resources/details"

@using EveEchoesPlanetaryProductionApi.Api.Models.PlanetaryResources.GetResources
@using EveEchoesPlanetaryProductionApi.Web.Services

@inject IEveApiService eveApiService;

@if (this.Resources is not null)
{
    <ResourcesTable Resources="this.Resources"></ResourcesTable>
}
else
{
    <Loader></Loader>
}

@code
{
    private IEnumerable<PlanetaryResource> Resources { get; set; }

    protected override async Task OnInitializedAsync()
    {
        this.Resources = await this.eveApiService.PlanetaryResources.GetPlanetaryResourcesCurrentPrices();
    }
}
